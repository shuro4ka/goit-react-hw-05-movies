{"version":3,"file":"static/js/453.48358ca7.chunk.js","mappings":"wOACA,GAAiB,E,SCGJA,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,GAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAEA,OACE,mBAAQC,UAAWC,EAAAA,UAAnB,UACE,kBAAMD,UAAWC,EAAAA,WAAmBL,SAAUA,EAA9C,WACE,mBAAQM,KAAK,SAASF,UAAWC,EAAAA,iBAAjC,UACE,iBAAMD,UAAU,eAAhB,uBAGF,kBACEA,UAAWC,EAAAA,gBACXC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAU,SAACC,GAAOR,EAAcQ,EAAEC,OAAOC,MAAO,EAChDA,MAAOX,QAKhB,E,UCmDD,EAlEe,WAAO,IAAD,EACbY,GAAWC,EAAAA,EAAAA,MACjB,GAA4Bd,EAAAA,EAAAA,UAAS,IAArC,eAAOe,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAWMC,EAAW,UAAGF,EAAaG,IAAI,iBAApB,QAAiC,IAElDC,EAAAA,EAAAA,YAAU,WACY,KAAhBF,EAKJG,YAAW,YACVC,EAAAA,EAAAA,IAAkBJ,GAAaK,MAAK,SAACC,GACpCV,EAAUU,EAAKC,QACf,GACD,GAAE,KARDX,EAAU,GASb,GAAE,CAACI,IAEJ,IAAMQ,GAAgBC,EAAAA,EAAAA,UAAQ,WAC5B,OAAOd,EAAOe,QACZ,SAAAC,GAAK,OACHA,EAAMC,eAAe,UACrBD,EAAME,MAAMC,cAAcC,SAASf,EAAYc,cAF5C,GAIR,GAAE,CAACd,EAAaL,IAEjB,OAEE,iBAAKZ,UAAYiC,EAAAA,GAAAA,cAAjB,WACE,SAACtC,EAAD,CAAWC,SAhCE,SAACW,GAChBA,EAAE2B,iBACF,IAAMpC,EAAaS,EAAE4B,cAAcC,SAAS,GAAG3B,MAC/CO,EAA+B,KAAflB,EAAoB,CAAE6B,OAAQ7B,GAAe,CAAC,EAC/D,IA6BI2B,EAAcY,OAAS,IACtB,eAAIrC,UAAYiC,EAAAA,GAAAA,WAAhB,SACGR,EAAca,KAAI,SAAAV,GAAK,OACtB,eAAI5B,UAAWiC,EAAAA,GAAAA,SAAf,UACE,iBAAKM,GAAE,UAAKX,EAAMY,IAAMC,MAAO,CAAEC,KAAMhC,GAAvC,UACGkB,EAAMe,aACL,gBAAKC,IAzCJ,kCAyCoBhB,EAAMe,YAAaE,IAAI,YAE5C,gBAAK7C,UAAYiC,EAAAA,GAAAA,UACfW,IAAI,6DACJC,IAAI,yBAIR,eAAI7C,UAAWiC,EAAAA,GAAAA,WAAf,SAAmCL,EAAME,YAXRF,EAAMY,GADrB,QAqBjC,C","sources":["components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import styles from './Searchbar.module.css';\nimport {useState} from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Searchbar = ({ onSubmit }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className=\"button-label\">Search</span>\n        </button>\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={(e) => {setInputValue(e.target.value)}}\n          value={inputValue}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};","import { useMemo } from 'react';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { getSearchedMovies } from 'service/api';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\n// import Pagination from 'components/Pagination/Pagination';\n\n\nimport styled from 'styled-components';\n\n\nconst Movies = () => {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n\n  const imageURL = 'https://image.tmdb.org/t/p/w185';\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const inputValue = e.currentTarget.elements[1].value;\n    setSearchParams(inputValue !== '' ? { filter: inputValue } : {});\n  };\n\n  const filterParam = searchParams.get('filter') ?? '';\n\n  useEffect(() => {\n    if (filterParam === '') {\n      setMovies([]);\n      return;\n    }\n\n    setTimeout(() => {\n     getSearchedMovies(filterParam).then((data) => {\n      setMovies(data.results);\n     });\n    }, 200);\n  }, [filterParam]);\n\n  const visibleMovies = useMemo(() => {\n    return movies.filter(\n      movie =>\n        movie.hasOwnProperty('title') &&\n        movie.title.toLowerCase().includes(filterParam.toLowerCase())\n    );\n  }, [filterParam, movies]);\n\n  return (\n   \n    <div className ={styled.listContainer}>\n      <Searchbar onSubmit={onSubmit} />\n      {visibleMovies.length > 0 && (\n        <ul className ={styled.moviesList}>\n          {visibleMovies.map(movie => (\n            <li className={styled.listItem} key={movie.id}>\n              <nav to={`${movie.id}`} state={{ from: location }}>\n                {movie.poster_path ? (\n                  <img src={imageURL + movie.poster_path} alt=\"Poster\" />\n                ) : (\n                  <img className ={styled.noImgAvlb}\n                    src=\"https://bpgroup.lv/i/product_images/images/Z2000128443.jpg\"\n                    alt=\"No Poster Available\"\n                  />\n                )}\n\n                <h2 className={styled.movieTitle}>{movie.title}</h2>\n              </nav>\n            </li>\n          ))}\n        </ul>\n      )}\n\n</div>\n  );\n};\n\nexport default Movies;\n\n\n// {/* <ListContainer>\n// <Searchbar onSubmit={onSubmit} />\n// {visibleMovies.length > 0 && (\n//   <MoviesList>\n//     {visibleMovies.map(movie => (\n//       <ListItem key={movie.id}>\n//         <MovieLink to={`${movie.id}`} state={{ from: location }}>\n//           {movie.poster_path ? (\n//             <img src={imageURL + movie.poster_path} alt=\"Poster\" />\n//           ) : (\n//             <NoImageAvlb\n//               src=\"https://bpgroup.lv/i/product_images/images/Z2000128443.jpg\"\n//               alt=\"No Poster Available\"\n//             />\n//           )}\n\n//           <MovTitle>{movie.title}</MovTitle>\n//         </MovieLink>\n//       </ListItem>\n//     ))}\n//   </MoviesList>\n// )}\n\n// </ListContainer> */}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { useLocation, useSearchParams } from 'react-router-dom';\n// import { useState } from 'react';\n// import { getSearchedMovies } from 'service/api';\n// import { useEffect } from 'react';\n// import { MoviesList } from 'components/MoviesList/MoviesList';\n// import { Searchbar } from 'components/Searchbar/Searchbar';\n\n\n//   const MoviesView = props => {\n//   const [searchParams, setSearchParams] = useSearchParams();\n//   const [searchResults, setSearchResults] = useState([]);\n//   //const [isLoading, setIsLoading] = useState(false);\n//   const query = searchParams.get('query');\n//   const location = useLocation();\n\n\n//   useEffect(() => {\n//     query && setIsLoading(true);\n//     query &&\n//       getSearchedMovies(query).then(data => {\n//         if (data.length > 0) {\n//           console.log(data);\n//           setSearchResults(data);\n//           setIsLoading(false);\n//         } else {\n//           alert('Sorry, movies are not found');\n//           setIsLoading(false);\n//         }\n//       });\n//   }, [query]);\n\n//   const submitHandler = e => {\n//     e.preventDefault();\n//     if (e.target[0].value === '') {\n//       alert('Please write the name of the movie');\n//       return;\n//     }\n\n//     const changeFilter = value => {\n//       setSearchParams(value !== '' ? { filter: value } : {});\n//     };\n  \n\n//     const query = e.target[0].value;\n//     setSearchParams({ query });\n//   };\n\n//   <ListContainer>\n//   <Searchbar value={filterParam} onChange={changeFilter} />\n//   {MoviesView.length > 0 && (\n//     <MoviesList>\n//       {visibleMovies.map(movie => (\n//         <ListItem key={movie.id}>\n//           <MovieLink to={`${movie.id}`} state={{ from: location }}>\n//             {movie.poster_path ? (\n//               <img src={imageURL + movie.poster_path} alt=\"Poster\" />\n//             ) : (\n//               <NoImageAvlb\n//                 src=\"https://bpgroup.lv/i/product_images/images/Z2000128443.jpg\"\n//                 alt=\"No Poster Available\"\n//               />\n//             )}\n\n//             <MovTitle>{movie.title}</MovTitle>\n//           </MovieLink>\n//         </ListItem>\n//       ))}\n//     </MoviesList>\n//   )}\n\n//   {/* <Pagination\n//     total={Number(100)}\n//     limit={Number(20)}\n//     page={page}\n//     setPage={setPage}\n//   /> */}\n// </ListContainer>\n\n//   };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  // return (\n  //   <div>\n  //     <form onSubmit={e => submitHandler(e)}>\n  //       <input type=\"text\" />\n  //       <button type=\"submit\">submit</button>\n  //     </form>\n  //     {isLoading}\n  //     {query && searchResults.length > 0 && (\n  //       <MoviesList moviesData={searchResults} location={location} />\n  //     )}\n  //   </div>\n  // );\n//};\n\n"],"names":["Searchbar","onSubmit","useState","inputValue","setInputValue","className","styles","type","autoComplete","autoFocus","placeholder","onChange","e","target","value","location","useLocation","movies","setMovies","useSearchParams","searchParams","setSearchParams","filterParam","get","useEffect","setTimeout","getSearchedMovies","then","data","results","visibleMovies","useMemo","filter","movie","hasOwnProperty","title","toLowerCase","includes","styled","preventDefault","currentTarget","elements","length","map","to","id","state","from","poster_path","src","alt"],"sourceRoot":""}